<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">


























<link rel="stylesheet" href="/Myblog/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/Myblog/css/main.css?v=6.7.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/Myblog/images/apple-touch-icon-next.png?v=6.7.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/Myblog/images/favicon-32x32-next.png?v=6.7.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/Myblog/images/favicon-16x16-next.png?v=6.7.0">


  <link rel="mask-icon" href="/Myblog/images/logo.svg?v=6.7.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/Myblog/',
    scheme: 'Pisces',
    version: '6.7.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="岁月不饶人，我亦未曾绕过岁月">
<meta property="og:type" content="website">
<meta property="og:title" content="拼搏岁月">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="拼搏岁月">
<meta property="og:description" content="岁月不饶人，我亦未曾绕过岁月">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="拼搏岁月">
<meta name="twitter:description" content="岁月不饶人，我亦未曾绕过岁月">






  <link rel="canonical" href="http://yoursite.com/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>拼搏岁月</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

  <script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css">
	<script src="https://cdn.jsdelivr.net/gh/stevenjoezhang/live2d-widget/autoload.js"></script>
</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/Myblog/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">拼搏岁月</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/Myblog/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/Myblog/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/Myblog/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-人工智能">

    
    
    
      
    

    

    <a href="/Myblog/categories/人工智能/" rel="section"><i class="menu-item-icon fa fa-fw fa-ravelry"></i> <br>人工智能</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-acm算法">

    
    
    
      
    

    

    <a href="/Myblog/categories/ACM算法/" rel="section"><i class="menu-item-icon fa fa-fw fa-diamond"></i> <br>ACM算法</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-javaweb">

    
    
    
      
    

    

    <a href="/Myblog/categories/javaWeb/" rel="section"><i class="menu-item-icon fa fa-fw fa-file-code-o"></i> <br>javaWeb</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/Myblog/2019/05/28/Linux系列学习-文件管理-下/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="连贺扬">
      <meta itemprop="description" content="岁月不饶人，我亦未曾绕过岁月">
      <meta itemprop="image" content="/Myblog/images/touxiang.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="拼搏岁月">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/Myblog/2019/05/28/Linux系列学习-文件管理-下/" class="post-title-link" itemprop="url">Linux系列学习-文件管理(下)</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-28 11:11:00 / 修改时间：18:59:20" itemprop="dateCreated datePublished" datetime="2019-05-28T11:11:00+08:00">2019-05-28</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/Myblog/categories/javaWeb/" itemprop="url" rel="index"><span itemprop="name">javaWeb</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <a href="/Myblog/2019/05/28/Linux系列学习-文件管理-下/#comments" itemprop="discussionUrl">
                  <span class="post-meta-item-text">评论数：</span> <span class="post-comments-count valine-comment-count" data-xid="/Myblog/2019/05/28/Linux系列学习-文件管理-下/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>这个章节将主要讲解 vim 文件编辑器，你将学会如何编辑一个文件，如何修改一个文件</p>
<h1 id="基本工作方式"><a href="#基本工作方式" class="headerlink" title="基本工作方式"></a>基本工作方式</h1><img src="/Myblog/2019/05/28/Linux系列学习-文件管理-下/p1.png" title="示例">
<p>INSERT：编辑模式<br>VISUAL： 查看模式<br>：wq  ：保存并退出<br>ctrl+Z 退出  vim 模式</p>
<h1 id="光标定位"><a href="#光标定位" class="headerlink" title="光标定位"></a>光标定位</h1><p>这里 这些键 自己按一下试试就知道了,具体没有做详细的对应<br>光标定位 需要在 command mode 模式下才能使用<br>上下左右：方向键 或者 hjkl<br>一行的开头或结尾：0 , $<br>第一行,最后一行：gg ,G<br>搜索字符串：/+正则表达式 (n 搜索结果的下一个，N 搜索结果的上一个)</p>
<h1 id="简单编辑"><a href="#简单编辑" class="headerlink" title="简单编辑"></a>简单编辑</h1><p>删除： </p>
<ol>
<li>dd  删除光标所在行</li>
<li>x 删除光标所在字符</li>
<li>D 删除光标到行尾部分</li>
</ol>
<p>复制：</p>
<ol>
<li>yy 复制光标所在行</li>
<li>nyy 复制光标所在及后面的多行<br>p 粘贴输出</li>
</ol>
<p>查找替换：<br>命令是：   : 范围s/查找内容/替换内容/选项<br>如： :1,5s/root/kkk/   1-5行每行第一个root换成kkk<br>     :1,$/root/kkk/g   1-最后一行每行所有的root换成kkk<br>其中 查找内容 可以用正则表达式</p>
<p>开启行号：<br>set nu 开启行号<br>set nonu 取消行号</p>
<p>转存：<br>：w 保存在当前文件<br>：w /root/test  转存在/root/test下</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/Myblog/2019/05/28/Linux系列学习-文件管理-上/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="连贺扬">
      <meta itemprop="description" content="岁月不饶人，我亦未曾绕过岁月">
      <meta itemprop="image" content="/Myblog/images/touxiang.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="拼搏岁月">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/Myblog/2019/05/28/Linux系列学习-文件管理-上/" class="post-title-link" itemprop="url">Linux系列学习-文件管理(上)</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-28 11:10:20 / 修改时间：19:31:09" itemprop="dateCreated datePublished" datetime="2019-05-28T11:10:20+08:00">2019-05-28</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/Myblog/categories/javaWeb/" itemprop="url" rel="index"><span itemprop="name">javaWeb</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <a href="/Myblog/2019/05/28/Linux系列学习-文件管理-上/#comments" itemprop="discussionUrl">
                  <span class="post-meta-item-text">评论数：</span> <span class="post-comments-count valine-comment-count" data-xid="/Myblog/2019/05/28/Linux系列学习-文件管理-上/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="总述："><a href="#总述：" class="headerlink" title="总述："></a>总述：</h1><h1 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h1><p>如图下图：在Linux 系统中，所有的文件都在一个根 / 目录中，下面又很多文件分区，学习Linux文件，首先要明确一个概念：<br>在Linux中，一切皆文件，一切的东西都是文件的形式在存在着</p>
<img src="/Myblog/2019/05/28/Linux系列学习-文件管理-上/p1.png" title="示例">
<p>每个文件分区的意义如下（不同的人的分布名称不尽相同）：</p>
<ol>
<li>bin：存放普通用户使用的命令/bin/ls，bin/date，或者可执行文件</li>
<li>sbin：存放管理员使用的命令/sbin/service，或者可执行文件</li>
<li>dev： 存放设备的文件</li>
<li>root：root用户的home文件</li>
<li>home: 存放普通用户的目录</li>
<li>proc: 虚拟文件系统，反映出的是内核，进程信息或者实时状态。</li>
<li>user: 系统文件，相当于windows下的c:\Windows<pre><code>/user/local  软件安装目录，相当于c:\Program
/user/bin   普通用户使用的应用程序
/user/sbin  管理员使用的应用程序
/usr/lib    库文件
/user/lib64  库文件
</code></pre></li>
<li>boot: 存放的是 系统启动的相关文件</li>
<li>etc: 配置文件 如：系统相关网络配置 /etc/sysconfig/network   应用相关配置 /etc/ssh/sshd_config…</li>
<li>lib and lib64 :库文件</li>
<li>tmp: 临时文件（全局可写：进程产生的临时文件）</li>
<li>var: 存放一些变化文件，如数据库，日志，邮件等</li>
</ol>
<p>剩下的其他文件目录不常用：<br>media 移动设备挂载点<br>mnt 手工挂载设备的挂载点<br>misc automount进程挂载</p>
<h1 id="路径访问"><a href="#路径访问" class="headerlink" title="路径访问"></a>路径访问</h1><p>这个知识点，主要需要掌握 查看目录结构，根据路径访问文件文件夹等，主要要记住一些常用命令<br>首先文件路径： 1.绝对路径<br>                /bin/。。。 从 根目录 / 开始<br>             2.想对路径<br>             ../表示上一层目录   ./表示当前目录<br>             bin/。。。== ./bin/。。。 在当前目录下的bin文件</p>
<p>常用命令：</p>
<ol>
<li>ls + 路径 命令<br>查看该路径下的 文件有哪些 路径为空，就是当前目录</li>
<li>cd + 路径 命令<br>有路径：访问 该路径的目录<br>路径为空：则访问用户的 home 目录<br>路径为 - ：cd -  返回上一层路径</li>
<li><p>pwd 命令<br>显示 当前目录路径</p>
<h1 id="增删改查"><a href="#增删改查" class="headerlink" title="增删改查"></a>增删改查</h1><h2 id="增"><a href="#增" class="headerlink" title="增"></a>增</h2><p>创建文件： touch + 文件名<br>touch b1.txt<br>创建文件夹: mkdir + 文件夹名<br>mkdir mytest</p>
<h2 id="删"><a href="#删" class="headerlink" title="删"></a>删</h2><p>rm + 参数 + 路径文件  删除该文件（该命令慎用）<br>最好 是配合cd 进入到那个文件夹 再用 rm + 文件名删除<br>rm 一些参数：<br>-f 强制删除（默认）<br>-i 删除前询问是否操作<br>-r 递归删除</p>
<h2 id="改"><a href="#改" class="headerlink" title="改"></a>改</h2><p>这里主要讲 mv 移动指令，通过mv指令可以实现 文件移动，重命名，剪切等操作<br>命令格式：mv [-fiv] source destination<br>移动：mv file1 /home/dir  讲file1 移动到 home/dir下<br>移动并改名：mv file1 /home/dir/file2  讲file1 移动到 home/dir下并改名file2<br>重命名： mv file1 file2 当亲文件夹下转移并改名<br>mv 一些参数：<br>-f :直接移动不询问（默认）<br>-i :若目标文件已经存在，询问是否覆盖<br>-u ：如果目标文件已经存在，源文件比较新，就覆盖</p>
<p>cp 复制命令<br>命令格式：cp [-adfilprsu] 源文件(source) 目标文件(destination)</p>
<pre><code>cp [option] source1 source2 source3 ...  directory
</code></pre><p>  参数说明：<br>  -a:是指archive的意思，也说是指复制所有的目录<br>  -d:若源文件为连接文件(link file)，则复制连接文件属性而非文件本身<br>  -f:强制(force)，若有重复或其它疑问时，不会询问用户，而强制复制<br>  -i:若目标文件(destination)已存在，在覆盖时会先询问是否真的操作<br>  -l:建立硬连接(hard link)的连接文件，而非复制文件本身<br>  -p:与文件的属性一起复制，而非使用默认属性<br>  -r:递归复制，用于目录的复制操作<br>  -s:复制成符号连接文件(symbolic link)，即“快捷方式”文件<br>  -u:若目标文件比源文件旧，更新目标文件<br>  如将/test1目录下的file1复制到/test3目录，并将文件名改为file2,可输入以下命令：<br>  cp /test1/file1 /test3/file2</p>
<h2 id="查"><a href="#查" class="headerlink" title="查"></a>查</h2></li>
<li>find<br>find /root test.txt  在/root目录下查找 test.txt</li>
<li>grep -r<br>(1)grep ‘test’ d*　　#显示所有以d开头的文件中包含 test的行<br>(2)grep ‘test’ aa bb cc 　　 #显示在aa，bb，cc文件中包含test的行<br>(3)grep ‘[a-z]{5}’ aa 　　#显示所有包含每行字符串至少有5个连续小写字符的字符串的行<br>(4)grep magic /usr/src　　#显示/usr/src目录下的文件(不含子目录)包含magic的行<br>(5)grep -r magic /usr/src　　#显示/usr/src目录下的文件(包含子目录)包含magic的行<br>(6)grep -w pattern files ：只匹配整个单词，而不是字符串的一部分(如匹配’magic’，而不是’magical’)，</li>
<li>which<br>which grep  查询bin文件（添加过环境变量的）</li>
</ol>
<h1 id="扩展（文件时间-文件类型）"><a href="#扩展（文件时间-文件类型）" class="headerlink" title="扩展（文件时间/文件类型）"></a>扩展（文件时间/文件类型）</h1>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/Myblog/2019/05/24/Linux系列学习-Linux基础与指令/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="连贺扬">
      <meta itemprop="description" content="岁月不饶人，我亦未曾绕过岁月">
      <meta itemprop="image" content="/Myblog/images/touxiang.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="拼搏岁月">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/Myblog/2019/05/24/Linux系列学习-Linux基础与指令/" class="post-title-link" itemprop="url">Linux系列学习--Linux基础与指令</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-24 00:12:21" itemprop="dateCreated datePublished" datetime="2019-05-24T00:12:21+08:00">2019-05-24</time>
            

            
          </span>

          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <a href="/Myblog/2019/05/24/Linux系列学习-Linux基础与指令/#comments" itemprop="discussionUrl">
                  <span class="post-meta-item-text">评论数：</span> <span class="post-comments-count valine-comment-count" data-xid="/Myblog/2019/05/24/Linux系列学习-Linux基础与指令/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/Myblog/2019/05/24/Linux系列学习-Mariadb安装与远程连接/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="连贺扬">
      <meta itemprop="description" content="岁月不饶人，我亦未曾绕过岁月">
      <meta itemprop="image" content="/Myblog/images/touxiang.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="拼搏岁月">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/Myblog/2019/05/24/Linux系列学习-Mariadb安装与远程连接/" class="post-title-link" itemprop="url">Linux系列学习--Mariadb安装与远程连接</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-24 00:10:44 / 修改时间：13:08:46" itemprop="dateCreated datePublished" datetime="2019-05-24T00:10:44+08:00">2019-05-24</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/Myblog/categories/javaWeb/" itemprop="url" rel="index"><span itemprop="name">javaWeb</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <a href="/Myblog/2019/05/24/Linux系列学习-Mariadb安装与远程连接/#comments" itemprop="discussionUrl">
                  <span class="post-meta-item-text">评论数：</span> <span class="post-comments-count valine-comment-count" data-xid="/Myblog/2019/05/24/Linux系列学习-Mariadb安装与远程连接/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="安装Mariadb"><a href="#安装Mariadb" class="headerlink" title="安装Mariadb"></a>安装Mariadb</h1><h2 id="yum安装"><a href="#yum安装" class="headerlink" title="yum安装"></a>yum安装</h2><p>这里我们使用 yum 直接安装就好，非常简单 敲入命令即可<br>yum -y install mariadb mariadb-server</p>
<h2 id="基础配置"><a href="#基础配置" class="headerlink" title="基础配置"></a>基础配置</h2><p>1.完成安装后，首先就是启动Mariadb服务 和 设置开机自启<br>systemctl start mariadb   //设置启动<br>systemctl enable mariadb  //设置开机自启</p>
<p>2.然后进行Mariadb的相关配置<br>mysql_secure_installation   //进行配置输入后，开头# 会变成如下<br>就会变成 Enter current password for root (enter for none):&lt;– 这是在让你输入数据库密码，初次进入直接回车，没有密码</p>
<p>设置密码<br>Set root password? [Y/n] &lt;– 这里输入Y<br>New password: &lt;– 设置root用户的密码<br>Re-enter new password: &lt;– 再输入一次你设置的密码</p>
<p>其他配置（后面就一路 Y 就完了）<br>Remove anonymous users? [Y/n] &lt;– 是否删除匿名用户，回车<br>Disallow root login remotely? [Y/n] &lt;–是否禁止root远程登录,回车,<br>Remove test database and access to it? [Y/n] &lt;– 是否删除test数据库，回车<br>Reload privilege tables now? [Y/n] &lt;– 是否重新加载权限表，回车</p>
<p>最后<br>mysql -uroot -p<br>登陆验证  大功告成</p>
<h1 id="Navicat远程链接"><a href="#Navicat远程链接" class="headerlink" title="Navicat远程链接"></a>Navicat远程链接</h1><p>Navicat 远程链接是通过网络进行链接，所以链接成功与否，与 Centos防火墙设置，Mariadb权限设置有关。<br>这里我们以 阿里云上服务器为例进行讲解。</p>
<h2 id="设置Mariadb-用户权限"><a href="#设置Mariadb-用户权限" class="headerlink" title="设置Mariadb 用户权限"></a>设置Mariadb 用户权限</h2><ol>
<li>登陆Mariadb<br>mysql -u root -p</li>
<li>切换到mysql数据库(这个数据库存的是整个Mariadb的信息，如用户信息)<br>这里需要注意，在Mariadb中的命令是需要加 ; 的<br>use mysql;</li>
<li>查看root用户信息<br>select user,host from user;<br>如果查看的结果如下图，说明你没有远程连接权限,host 表示这个用户只能在本机登陆<img src="/Myblog/2019/05/24/Linux系列学习-Mariadb安装与远程连接/p1.png" title="示例"></li>
<li>修改root用户权限，使其可以在任何机器上访问<br>update user set host=’%’ where user =’root’;<br>再 select user ,host from user; 查看<img src="/Myblog/2019/05/24/Linux系列学习-Mariadb安装与远程连接/p2.png" title="示例"></li>
<li>给root用户授权（所有权限）<br>GRANT ALL PRIVILEGES ON <em>.</em> TO ‘root‘@’%’ IDENTIFIED BY ‘root’ WITH GRANT OPTION;<br>然后刷新用户权限<br>flush   privileges;<h2 id="设置Centos7系统防火墙开放端口"><a href="#设置Centos7系统防火墙开放端口" class="headerlink" title="设置Centos7系统防火墙开放端口"></a>设置Centos7系统防火墙开放端口</h2>对Mariadb的用户权限设置完了之后，我们还需要对Centos7防火墙进行设置</li>
<li>查看防火墙运行状态<br>firewall-cmd    –state<br>如果 状态是 runing 说明防火墙在运行<br>如果 状态是 not runing 说明防火墙没在运行<br>systemctl  stop   firewalld.service   //关闭防火墙的命令<br>systemctl  start   firewalld.service  //启动防火墙的命令</li>
</ol>
<p>虽说直接把防火墙关掉也能达到我们连接的目的，但这样很不安全所以建议打开</p>
<ol start="2">
<li>查看防火墙开放的端口号<br>firewall-cmd –zone=public –list-ports   //查看防火墙开放的端口号<br>如果开启的端口中没有  3306端口，我们需要将其打开（数据库使用了这个端口）</li>
<li>开启端口<br>firewall-cmd –zone=public –add-port=3306/tcp –permanent<br>再 重新加载防火墙信息<br>firewall-cmd –reload<br>最后再次查看开启的端口有哪些<br>firewall-cmd –zone=public –list-ports</li>
</ol>
<h2 id="最后开放阿里云平台的安全组（不是云平台，这步可以省略）"><a href="#最后开放阿里云平台的安全组（不是云平台，这步可以省略）" class="headerlink" title="最后开放阿里云平台的安全组（不是云平台，这步可以省略）"></a>最后开放阿里云平台的安全组（不是云平台，这步可以省略）</h2><img src="/Myblog/2019/05/24/Linux系列学习-Mariadb安装与远程连接/p3.png" title="示例">

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/Myblog/2019/05/22/Linux系列学习-安装/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="连贺扬">
      <meta itemprop="description" content="岁月不饶人，我亦未曾绕过岁月">
      <meta itemprop="image" content="/Myblog/images/touxiang.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="拼搏岁月">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/Myblog/2019/05/22/Linux系列学习-安装/" class="post-title-link" itemprop="url">Linux系列学习--安装</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-22 11:13:39" itemprop="dateCreated datePublished" datetime="2019-05-22T11:13:39+08:00">2019-05-22</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-05-24 00:04:16" itemprop="dateModified" datetime="2019-05-24T00:04:16+08:00">2019-05-24</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/Myblog/categories/javaWeb/" itemprop="url" rel="index"><span itemprop="name">javaWeb</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <a href="/Myblog/2019/05/22/Linux系列学习-安装/#comments" itemprop="discussionUrl">
                  <span class="post-meta-item-text">评论数：</span> <span class="post-comments-count valine-comment-count" data-xid="/Myblog/2019/05/22/Linux系列学习-安装/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="简述"><a href="#简述" class="headerlink" title="简述"></a>简述</h1><p>Linux学习安装步骤：</p>
<ol>
<li><p>下载安装虚拟机<br>虚拟机是在你的电脑上虚拟出另一个电脑，你在虚拟机上的操作不会影响到你本身机器。<br>为了学习方便，我们需要安装虚拟机，在虚拟机上学习Linux系统</p>
</li>
<li><p>下载安装Linux系统–Centos7<br>常用的企业服务器Linux系统，是Linux发行版之一，它是来自于Red Hat Enterprise Linux依照开放源代码规定释出的源代码所编译而成。由于出自同样的源代码，因此有些要求高度稳定性的服务器以CentOS替代商业版的Red Hat Enterprise Linux使用。两者的不同，在于CentOS完全开源。</p>
<h1 id="下载安装虚拟机"><a href="#下载安装虚拟机" class="headerlink" title="下载安装虚拟机"></a>下载安装虚拟机</h1><p>常用的知名虚拟机用两种：<br>1.orcle 的 virtual box 是开源免费的，小巧，简易，方便<br>2.VMware 的 VMware workstation 商业虚拟机，功能齐全，需要付费</p>
</li>
</ol>
<p>这里我们选择 VMware workstation</p>
<h2 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h2><p>1.去官网下载 VMware workstation ，最好科学上网，否则下载比较慢<br><figure class="highlight plain"><figcaption><span>点击左侧link跳转</span><a href="https://my.vmware.com/cn/web/vmware/info/slug/desktop_end_user_computing/vmware_workstation_pro/15_0" target="_blank" rel="noopener">link</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VMware worlstation 下载地址</span><br></pre></td></tr></table></figure></p>
<h2 id="安装激活"><a href="#安装激活" class="headerlink" title="安装激活"></a>安装激活</h2><p>1.安装没什么可说的，一直下一步，选择安装地址即可<br>2.激活的话，可以去网上找激活序列号，很好找，这里博主给列了一些。<br>CZ7WU-2MF01-488FZ-L6Z5T-PYAU4</p>
<p>CY1TH-0XZ5M-M85NY-MNXGG-ZZHU8</p>
<p>ZZ3EK-62W1P-H803P-4WN7T-Q7HT2</p>
<p>CY75U-ATW0P-H8EYZ-WDZE9-N68D6</p>
<p>GY7EH-DLY86-081EP-4GP59-WFRX0</p>
<h2 id="创建一个虚拟机"><a href="#创建一个虚拟机" class="headerlink" title="创建一个虚拟机"></a>创建一个虚拟机</h2><p>首先是打开软件的界面是一个主页，如果没有，可以在视图上打开<br>下面按照我的步骤就可以创建一个虚拟机了，其中有些界面没有给出，就选择推荐或者默认<br><img src="/Myblog/2019/05/22/Linux系列学习-安装/p1.png" title="步骤1"><br><img src="/Myblog/2019/05/22/Linux系列学习-安装/p2.png" title="步骤2"><br><img src="/Myblog/2019/05/22/Linux系列学习-安装/p3.png" title="步骤3"><br><img src="/Myblog/2019/05/22/Linux系列学习-安装/p4.png" title="步骤4"><br><img src="/Myblog/2019/05/22/Linux系列学习-安装/p5.png" title="步骤5"><br><img src="/Myblog/2019/05/22/Linux系列学习-安装/p6.png" title="步骤6"><br><img src="/Myblog/2019/05/22/Linux系列学习-安装/p7.png" title="步骤7"><br><img src="/Myblog/2019/05/22/Linux系列学习-安装/p8.png" title="步骤8"><br><img src="/Myblog/2019/05/22/Linux系列学习-安装/p9.png" title="步骤9"><br><img src="/Myblog/2019/05/22/Linux系列学习-安装/p10.png" title="步骤10"></p>
<h1 id="Centos系统下载安装"><a href="#Centos系统下载安装" class="headerlink" title="Centos系统下载安装"></a>Centos系统下载安装</h1><p>去Centos官网下载就行<br><figure class="highlight plain"><figcaption><span>点击左侧link跳转</span><a href="https://www.centos.org/" target="_blank" rel="noopener">link</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Centos官网</span><br></pre></td></tr></table></figure></p>
<h1 id="Centos7安装"><a href="#Centos7安装" class="headerlink" title="Centos7安装"></a>Centos7安装</h1><p>Centos7 系统安装比较简单按照我的步骤来就行了<br><img src="/Myblog/2019/05/22/Linux系列学习-安装/z1.png" title="步骤1"><br><img src="/Myblog/2019/05/22/Linux系列学习-安装/z2.png" title="步骤2"><br><img src="/Myblog/2019/05/22/Linux系列学习-安装/z3.png" title="步骤3"><br><img src="/Myblog/2019/05/22/Linux系列学习-安装/z4.png" title="步骤4"><br><img src="/Myblog/2019/05/22/Linux系列学习-安装/z5.png" title="步骤5"><br><img src="/Myblog/2019/05/22/Linux系列学习-安装/z6.png" title="步骤6"><br><img src="/Myblog/2019/05/22/Linux系列学习-安装/z7.png" title="步骤7"><br><img src="/Myblog/2019/05/22/Linux系列学习-安装/z8.png" title="步骤8"><br><img src="/Myblog/2019/05/22/Linux系列学习-安装/z9.png" title="步骤9"><br><img src="/Myblog/2019/05/22/Linux系列学习-安装/z10.png" title="步骤10"><br><img src="/Myblog/2019/05/22/Linux系列学习-安装/z11.png" title="步骤11"></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/Myblog/2019/05/07/解题报告-codeforces339c/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="连贺扬">
      <meta itemprop="description" content="岁月不饶人，我亦未曾绕过岁月">
      <meta itemprop="image" content="/Myblog/images/touxiang.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="拼搏岁月">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/Myblog/2019/05/07/解题报告-codeforces339c/" class="post-title-link" itemprop="url">解题报告-codeforces339c</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-07 20:48:44 / 修改时间：21:25:44" itemprop="dateCreated datePublished" datetime="2019-05-07T20:48:44+08:00">2019-05-07</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/Myblog/categories/ACM算法/" itemprop="url" rel="index"><span itemprop="name">ACM算法</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <a href="/Myblog/2019/05/07/解题报告-codeforces339c/#comments" itemprop="discussionUrl">
                  <span class="post-meta-item-text">评论数：</span> <span class="post-comments-count valine-comment-count" data-xid="/Myblog/2019/05/07/解题报告-codeforces339c/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight plain"><figcaption><span>点击左侧link跳转</span><a href="http://codeforces.com/problemset/problem/339/C" target="_blank" rel="noopener">link</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">原题连接</span><br></pre></td></tr></table></figure>
<h1 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h1><p>gsy有一组砝码和天平秤。 每一个砝码的重量是1到10公斤之间的整数。 gsy想玩一下砝码和天平。她一个一个地把砝码放到天平的盘子上面。第一个砝码放在左盘，第二个砝码放在右盘，第三个砝码放在左盘，第四个砝码放在右盘，以此类推。gsy一共想放m 个砝码在盘上。</p>
<p>只是简单的把砝码放在盘子上面没意思，因此gsy制定了一些规则。首先，她不会将两个相同重量的砝码连续地放在秤上。也就是说，对任何一个 i来说，第 i个砝码和第 (i + 1)个砝码都是不同的(1 ≤ i &lt; m)。其次，每次gsy在一个盘里放砝码的时候，都希望这个盘比另一个盘中。也就是说，相应盘里的砝码总和是严格大于另一个盘的。</p>
<p>现在你手头有所有gsy可用的砝码。可以假设对于每一种不同重量的砝码gsy有无数个可以用。你的任务是帮助郭思易放总数为 m 的砝码在天平上，或者告诉她办不到。</p>
<p>Input<br>第一行是一串由10个“0”或者“1”组成的字符串: 第 i个 (i ≥ 1) 数字为 “1” 表示gsy有重量为i 公斤的砝码, 否则该位置上的数字为 “0”。第二行有一个数字m (1 ≤ m ≤ 1000).</p>
<p>Output<br>第一行，如果可以按照规则将m 个砝码放在天平上，则打印”YES”, 否则打印 “NO”. 如果可以 m个砝码放在天平上，在下一行打印 m个整数表示砝码的重量，顺序按照你将它们放在天平上的顺序。</p>
<p>如果有多种解，打印一组即可。</p>
<p>Examples<br>Input<br>0000000101<br>3<br>Output<br>YES<br>8 10 8<br>Input<br>1000000000<br>2<br>Output<br>NO</p>
<h1 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h1><p>dfs搜一下就行了，水题，可能有人会想贪心+模拟（比如我），就会错</p>
<h1 id="AC代码"><a href="#AC代码" class="headerlink" title="AC代码"></a>AC代码</h1><figure class="highlight c"><figcaption><span>++</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> m;</span><br><span class="line"><span class="keyword">int</span> p1=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> p2=<span class="number">0</span>;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; ans;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; a;</span><br><span class="line"><span class="keyword">bool</span> flag=<span class="literal">false</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> findex)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(flag)&#123;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(x&gt;=m)&#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"YES"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">bool</span> fg = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;ans.size();i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(fg)&#123;</span><br><span class="line">                <span class="built_in">cout</span>&lt;&lt;ans[i];</span><br><span class="line">                fg = <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">               <span class="built_in">cout</span>&lt;&lt;<span class="string">" "</span>&lt;&lt;ans[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        flag = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(x%<span class="number">2</span>==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;a.size();i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(flag)&#123;</span><br><span class="line">                <span class="keyword">return</span> ;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>((a[i]!=findex)&amp;&amp;((p1+a[i])&gt;p2))&#123;</span><br><span class="line"><span class="comment">//                cout&lt;&lt;"p1 a[i]:"&lt;&lt;a[i]&lt;&lt;endl;</span></span><br><span class="line">                p1+=a[i];</span><br><span class="line">                ans.push_back(a[i]);</span><br><span class="line">                dfs(x+<span class="number">1</span>,a[i]);</span><br><span class="line">                p1-=a[i];</span><br><span class="line">                ans.pop_back();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;a.size();i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(flag)&#123;</span><br><span class="line">                <span class="keyword">return</span> ;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>((a[i]!=findex)&amp;&amp;((p2+a[i])&gt;p1))&#123;</span><br><span class="line"><span class="comment">//                cout&lt;&lt;"p2 a[i]:"&lt;&lt;a[i]&lt;&lt;endl;</span></span><br><span class="line">                p2+=a[i];</span><br><span class="line">                ans.push_back(a[i]);</span><br><span class="line">                dfs(x+<span class="number">1</span>,a[i]);</span><br><span class="line">                p2-=a[i];</span><br><span class="line">                ans.pop_back();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">string</span> s;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;s;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;s.length();i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(s[i]==<span class="string">'1'</span>)&#123;</span><br><span class="line">            a.push_back(i+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(<span class="number">0</span>,<span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">if</span>(!flag)&#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"NO"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/Myblog/2019/05/02/解题报告-cf1107D/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="连贺扬">
      <meta itemprop="description" content="岁月不饶人，我亦未曾绕过岁月">
      <meta itemprop="image" content="/Myblog/images/touxiang.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="拼搏岁月">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/Myblog/2019/05/02/解题报告-cf1107D/" class="post-title-link" itemprop="url">解题报告-cf1107D</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-02 14:14:41 / 修改时间：15:36:17" itemprop="dateCreated datePublished" datetime="2019-05-02T14:14:41+08:00">2019-05-02</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/Myblog/categories/ACM算法/" itemprop="url" rel="index"><span itemprop="name">ACM算法</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <a href="/Myblog/2019/05/02/解题报告-cf1107D/#comments" itemprop="discussionUrl">
                  <span class="post-meta-item-text">评论数：</span> <span class="post-comments-count valine-comment-count" data-xid="/Myblog/2019/05/02/解题报告-cf1107D/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight plain"><figcaption><span>点击左侧link跳转</span><a href="http://codeforces.com/problemset/problem/1107/D" target="_blank" rel="noopener">link</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">原题连接</span><br></pre></td></tr></table></figure>
<h1 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h1><p>给你一个大小为n*n的只包含数字0、1的矩阵A.<br>我们称矩阵A有一个x压缩矩阵B,当且仅当n能被x整除,且对于任意的i,j (1&lt;=i,j&lt;=n).<br>总有A[i][j] = B[ceil(i/x)][ceil(j/x)].<br>其中ceil(x)表示x向上取整的结果,比如ceil(0.1)=ceil(0.3)=1.<br>比如矩阵A:<br>0011<br>0011<br>1100<br>1100<br>显然其有一个2压缩矩阵B:<br>01<br>10<br>现在已知矩阵A,请你求出一个最大的整数t,表示该矩阵拥有t压缩矩阵.<br>(注意每个矩阵显然有一个1压缩矩阵)<br>Input<br>输入的第一行包含一个整数n(4&lt;=n&lt;=5200),表示数据A的大小.<br>接下来n行,每行会有n/4个16进制数(保证n能被4整除).<br>(表示为0~9以及’A’~’F’,如0011会表示为3而1100会表示为C,你需将每个数字转化为4位二进制从而得到正确的A矩阵).<br>即所给的输入也是经过压缩的,你需要将其还原成原始A数组再解决本题。<br>Output<br>输出只有一个整数t.<br>Examples<br>【样例输入1】<br>4<br>3<br>3<br>C<br>C</p>
<p>【样例输出1】<br>2</p>
<p>【样例输入2】<br>4<br>0<br>0<br>0<br>0</p>
<p>【样例输出2】<br>4</p>
<h1 id="思想"><a href="#思想" class="headerlink" title="思想"></a>思想</h1><p>首先得到二进制的01矩阵，大体思路就是，遍历答案x ：1 ~ n ，再验证这个x压缩能否成立，成立，<br>则更新ans，不成立，向后遍历。<br>所以，重点就是如何进行验证，验证x压缩矩阵能否成立，这里可以利用二维前缀和，通过二维前缀和，何以快速<br>得到一个区间矩形的和num，如果num==0  或者  num==x*x 则成立，否则不成立。</p>
<h1 id="AC代码"><a href="#AC代码" class="headerlink" title="AC代码"></a>AC代码</h1><figure class="highlight c"><figcaption><span>++</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ll long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">5200</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">int</span> a[N+<span class="number">10</span>][N+<span class="number">10</span>];</span><br><span class="line"><span class="keyword">char</span> s[N+<span class="number">10</span>][N+<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//得到二维01矩阵，从i=1开始存，方便后面求前缀和</span></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= n;i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>,s[i]);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; n/<span class="number">4</span>;j++)&#123;</span><br><span class="line">            <span class="keyword">int</span> key = s[i][j]-<span class="string">'0'</span>;</span><br><span class="line">            <span class="keyword">if</span> (s[i][j]&gt;=<span class="string">'A'</span> &amp;&amp; s[i][j]&lt;=<span class="string">'F'</span>)&#123;</span><br><span class="line">                key = s[i][j]-<span class="string">'A'</span>+<span class="number">10</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>;k &lt; <span class="number">4</span>;k++)&#123;</span><br><span class="line">                a[i][j*<span class="number">4</span>+<span class="number">4</span>-k] = key%<span class="number">2</span>;</span><br><span class="line">                key= key/<span class="number">2</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//求解二维前缀和</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= n;i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>;j &lt;= n;j++)</span><br><span class="line">            a[i][j] = a[i<span class="number">-1</span>][j]+a[i][j<span class="number">-1</span>]-a[i<span class="number">-1</span>][j<span class="number">-1</span>]+a[i][j];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">1</span>;x &lt;= n;x++)</span><br><span class="line">        <span class="keyword">if</span> (n%x==<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = x;i &lt;= n;i+=x)&#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j = x;j &lt;= n;j+=x)&#123;</span><br><span class="line">                    <span class="keyword">int</span> x0 = i-x+<span class="number">1</span>,y0 = j-x+<span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">int</span> x1 = i,y1 = j;</span><br><span class="line">                    <span class="keyword">int</span> num = a[x1][y1]-a[x0<span class="number">-1</span>][y1]-a[x1][y0<span class="number">-1</span>]+a[x0<span class="number">-1</span>][y0<span class="number">-1</span>];<span class="comment">//求区间矩形和</span></span><br><span class="line">                    <span class="keyword">if</span> (num!=<span class="number">0</span> &amp;&amp; num!=x*x)&#123;<span class="comment">//如果和不满足，flag=false 直接进行下一个</span></span><br><span class="line">                        flag = <span class="literal">false</span>;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (!flag) <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (flag)&#123;<span class="comment">//如果flag = true 说明这个x符合，更新ans</span></span><br><span class="line">                ans = x;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/Myblog/2019/04/30/解题报告-Floyd/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="连贺扬">
      <meta itemprop="description" content="岁月不饶人，我亦未曾绕过岁月">
      <meta itemprop="image" content="/Myblog/images/touxiang.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="拼搏岁月">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/Myblog/2019/04/30/解题报告-Floyd/" class="post-title-link" itemprop="url">解题报告-Floyd</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-04-30 14:21:19 / 修改时间：14:35:49" itemprop="dateCreated datePublished" datetime="2019-04-30T14:21:19+08:00">2019-04-30</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/Myblog/categories/ACM算法/" itemprop="url" rel="index"><span itemprop="name">ACM算法</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <a href="/Myblog/2019/04/30/解题报告-Floyd/#comments" itemprop="discussionUrl">
                  <span class="post-meta-item-text">评论数：</span> <span class="post-comments-count valine-comment-count" data-xid="/Myblog/2019/04/30/解题报告-Floyd/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight plain"><figcaption><span>点击左侧link跳转</span><a href="http://codeforces.com/problemset/problem/25/C" target="_blank" rel="noopener">link</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">原题连接</span><br></pre></td></tr></table></figure>
<p>题意：一张带权的无向图中有n个点,从1到n标号,一开始告诉你任意两点之间的最短距离是多少,dis[i][j]表示从i到j的最短距离。显然dis[i][j]=dis[j][i],保证一开始任意两个点之间都能互相到达.<br>现在又新加入了一些边,现在问你加入某一条边之后,所有点对之间的最短距离的和是多少。</p>
<h1 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h1><p>一道Floyd的水题，直接暴力加边，然后暴力遍历更新就好了。这里说下FLoyd思想<br>Floyd的整体思想就是，对于没一对点之间的距离，有两中情况，一种是用另一个点k作为中转，<br>dis[i][j] = dis[i][k]+dis[k][j],另一种就是 本身距离 dis[i][j] =dis[i][j];<br>Floyd模板：O(n^3)<br><figure class="highlight c"><figcaption><span>++</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">floyd</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(dis,<span class="number">88</span>,<span class="keyword">sizeof</span> dis);<span class="comment">//初始化dis距离数组，88是一个很大的数。</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">1</span>;k&lt;=n;k++)&#123;<span class="comment">//中间节点K</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;<span class="comment">//起点i</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=n;j++)&#123;<span class="comment">//终点j</span></span><br><span class="line">                dis[i][j]=x[i][j];<span class="comment">//x[i][j]初始i，j之间的边</span></span><br><span class="line">                <span class="keyword">if</span>(dis[i][j]&gt;(dis[i][k]+dis[k][j]))&#123;</span><br><span class="line">                    dis[i][j]=(dis[i][k]+dis[k][j]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="本题AC代码"><a href="#本题AC代码" class="headerlink" title="本题AC代码"></a>本题AC代码</h1><figure class="highlight c"><figcaption><span>++</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"><span class="keyword">int</span> x[<span class="number">1100</span>][<span class="number">1100</span>];</span><br><span class="line"><span class="keyword">int</span> dis[<span class="number">1100</span>][<span class="number">1100</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">floyd</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(dis,<span class="number">88</span>,<span class="keyword">sizeof</span> dis);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">1</span>;k&lt;=n;k++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=n;j++)&#123;</span><br><span class="line">                dis[i][j]=x[i][j];</span><br><span class="line">                <span class="keyword">if</span>(dis[i][j]&gt;(dis[i][k]+dis[k][j]))&#123;</span><br><span class="line">                    dis[i][j]=(dis[i][k]+dis[k][j]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> main()</span><br><span class="line">&#123;</span><br><span class="line">    ios::sync_with_stdio(<span class="number">0</span>),<span class="built_in">cin</span>.tie(<span class="number">0</span>),<span class="built_in">cout</span>.tie(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=n;j++)&#123;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;x[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    floyd();</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;m;</span><br><span class="line">    <span class="keyword">bool</span> flag =<span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">while</span>(m--)&#123;</span><br><span class="line"><span class="comment">//        cout&lt;&lt;"加边之前"&lt;&lt;endl;</span></span><br><span class="line"><span class="comment">//        int ans=0;</span></span><br><span class="line"><span class="comment">//        for(int i=1;i&lt;=n;i++)&#123;</span></span><br><span class="line"><span class="comment">//            for(int j=1;j&lt;=n;j++)&#123;</span></span><br><span class="line"><span class="comment">//                ans+=dis[i][j];</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"><span class="comment">//        cout&lt;&lt;ans/2&lt;&lt;"\n"&lt;&lt;endl;</span></span><br><span class="line">        <span class="keyword">int</span> a,b,c;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;a&gt;&gt;b&gt;&gt;c;</span><br><span class="line">        x[a][b]=c;</span><br><span class="line">        x[b][a]=c;</span><br><span class="line">        <span class="keyword">if</span>(dis[a][b]&gt;c)&#123;</span><br><span class="line">            dis[a][b]=c;</span><br><span class="line">            dis[b][a]=c;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span> ;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=n;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(dis[i][j] &gt; (dis[i][a]+dis[b][j]+c))&#123;</span><br><span class="line">                    dis[i][j] = dis[i][a]+dis[b][j]+c;</span><br><span class="line">                    dis[j][i] = dis[i][j];</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(dis[i][j] &gt; (dis[i][b]+dis[a][j]+c))&#123;</span><br><span class="line">                    dis[i][j] = dis[i][b]+dis[a][j]+c;</span><br><span class="line">                    dis[j][i] = dis[i][j];</span><br><span class="line">                &#125;</span><br><span class="line">                ans+=dis[i][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag)&#123;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;ans/<span class="number">2</span>;</span><br><span class="line">            flag =<span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">" "</span>&lt;&lt;ans/<span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/Myblog/2019/04/25/android网络请求/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="连贺扬">
      <meta itemprop="description" content="岁月不饶人，我亦未曾绕过岁月">
      <meta itemprop="image" content="/Myblog/images/touxiang.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="拼搏岁月">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/Myblog/2019/04/25/android网络请求/" class="post-title-link" itemprop="url">android网络请求</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-04-25 15:40:20 / 修改时间：17:03:45" itemprop="dateCreated datePublished" datetime="2019-04-25T15:40:20+08:00">2019-04-25</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/Myblog/categories/javaWeb/" itemprop="url" rel="index"><span itemprop="name">javaWeb</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <a href="/Myblog/2019/04/25/android网络请求/#comments" itemprop="discussionUrl">
                  <span class="post-meta-item-text">评论数：</span> <span class="post-comments-count valine-comment-count" data-xid="/Myblog/2019/04/25/android网络请求/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="引言："><a href="#引言：" class="headerlink" title="引言："></a>引言：</h1><p>为什么要学Android网络请求，因为虽不知什么原因，android没见过直接链接远程数据库的，都是通过请求后台服务器<br>来获得远程数据，学习android 网络请求，是学习android远程远程数据库的前提。</p>
<h1 id="HttpURLConnection"><a href="#HttpURLConnection" class="headerlink" title="HttpURLConnection"></a>HttpURLConnection</h1><h2 id="步骤："><a href="#步骤：" class="headerlink" title="步骤："></a>步骤：</h2><p>1.创建网络链接的地址url<br>2.创建HttpURLConnection对象<br>3.设置链接超时，获得数据超时，请求方式<br>4.链接服务器<br>6.发送请求，得到响应数据<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//正常的开发中，网络请求都是在子线程中执行</span></span><br><span class="line">            <span class="keyword">new</span> Thread()&#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        <span class="comment">//定义服务器地址</span></span><br><span class="line">                        String path = <span class="string">"http://192.168.0.111:8080/?name=lhy&amp;age=10"</span>;</span><br><span class="line">                        <span class="comment">//1.得到url对象</span></span><br><span class="line">                        URL url = <span class="keyword">new</span> URL(path);</span><br><span class="line">                        <span class="comment">//2.得到HttpURLCnnection对象</span></span><br><span class="line">                        HttpURLConnection connection = (HttpURLConnection)url.openConnection();</span><br><span class="line">                        <span class="comment">//3.设置链接参数</span></span><br><span class="line">                        connection.setRequestMethod(<span class="string">"GET"</span>);</span><br><span class="line">                        connection.setConnectTimeout(<span class="number">6000</span>);</span><br><span class="line">                        connection.setReadTimeout(<span class="number">6000</span>);</span><br><span class="line">                        <span class="comment">//4.连接服务器</span></span><br><span class="line">                        connection.connect();</span><br><span class="line">                        <span class="comment">//5.获得返回参数，只有responsecode == 200 时，才能得到正确参数。</span></span><br><span class="line">                        </span><br><span class="line">                        </span><br><span class="line">                        <span class="keyword">int</span> responsecode = connection.getResponseCode();</span><br><span class="line">                        <span class="comment">//如果是post请求，需要加一个outputstream，url取掉后面数据参数</span></span><br><span class="line">                        <span class="comment">/**OutputStream os = connection.getOutputStream();</span></span><br><span class="line"><span class="comment">                        *String data = "name=lhy&amp;age=12";</span></span><br><span class="line"><span class="comment">                        *os.write(data.getBytes());</span></span><br><span class="line"><span class="comment">                        */</span></span><br><span class="line">                        </span><br><span class="line">                        </span><br><span class="line">                        <span class="comment">//6.得到处理得到结果</span></span><br><span class="line">                        <span class="keyword">if</span>(responsecode == <span class="number">200</span>)&#123;</span><br><span class="line">                            <span class="keyword">int</span> len =-<span class="number">1</span>;</span><br><span class="line">                            <span class="keyword">byte</span>[] buffer = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">                            InputStream is = connection.getInputStream();</span><br><span class="line">                            ByteArrayOutputStream baos = <span class="keyword">new</span> ByteArrayOutputStream();</span><br><span class="line">                            <span class="keyword">while</span>((len = is.read(buffer))!=-<span class="number">1</span>)&#123;</span><br><span class="line">                                baos.write(buffer,<span class="number">0</span>,len);</span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="keyword">final</span> String result = baos.toString();</span><br><span class="line">                            System.out.println(result);</span><br><span class="line">                            <span class="comment">//子线程中修改前端页面</span></span><br><span class="line">                            runOnUiThread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">                                <span class="meta">@Override</span></span><br><span class="line">                                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                                    Toast.makeText(MainActivity.<span class="keyword">this</span>,result,Toast.LENGTH_LONG).show();</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;);</span><br><span class="line">                        &#125;</span><br><span class="line">                        connection.disconnect();</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                        runOnUiThread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">                            <span class="meta">@Override</span></span><br><span class="line">                            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                                Toast.makeText(MainActivity.<span class="keyword">this</span>, <span class="string">"请求失败"</span>, Toast.LENGTH_LONG).show();</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;);</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;.start();</span><br></pre></td></tr></table></figure></p>
<h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><p>1.url地址是公网地址，不能用localhost 或者 127.0.0.1<br>2.据说版本高的android中，网络请求必须写在子线程中，不然会报出异常，但我试了一下可以，可能我的比较低吧<br>3.还有一些坑，android 得权限问题，导致网络请求报异常解决方法如下：<br>一般情况下，会有2种原因造成，一是权限问题，二是安卓版本问题。我们针对这2种进行以下处理</p>
<p>我们首先在AndroidManifest.xml文件的manifest节点下添加如下内容：</p>
<p><uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"></uses-permission></p>
<p><uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"></uses-permission></p>
<p><uses-permission android:name="android.permission.INTERNET"></uses-permission></p>
<p>然后Android的Activity中调用处增加代码：<br>super.onCreate(savedInstanceState);//这个不加<br>StrictMode.setThreadPolicy(new StrictMode.ThreadPolicy.Builder().detectDiskReads().detectDiskWrites().detectNetwork().penaltyLog().build());</p>
<h1 id="Httpclient"><a href="#Httpclient" class="headerlink" title="Httpclient"></a>Httpclient</h1><p>这个网络请求方法比较麻烦，博主就不写了，有兴趣得自行百度吧</p>
<h1 id="volley框架"><a href="#volley框架" class="headerlink" title="volley框架"></a>volley框架</h1>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/Myblog/2019/04/18/线段树详解/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="连贺扬">
      <meta itemprop="description" content="岁月不饶人，我亦未曾绕过岁月">
      <meta itemprop="image" content="/Myblog/images/touxiang.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="拼搏岁月">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/Myblog/2019/04/18/线段树详解/" class="post-title-link" itemprop="url">线段树详解</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-04-18 22:12:57" itemprop="dateCreated datePublished" datetime="2019-04-18T22:12:57+08:00">2019-04-18</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-20 20:23:20" itemprop="dateModified" datetime="2019-04-20T20:23:20+08:00">2019-04-20</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/Myblog/categories/ACM算法/" itemprop="url" rel="index"><span itemprop="name">ACM算法</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <a href="/Myblog/2019/04/18/线段树详解/#comments" itemprop="discussionUrl">
                  <span class="post-meta-item-text">评论数：</span> <span class="post-comments-count valine-comment-count" data-xid="/Myblog/2019/04/18/线段树详解/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="线段树思想详解"><a href="#线段树思想详解" class="headerlink" title="线段树思想详解"></a>线段树思想详解</h1><p>线段树，就是通过二叉树的方式存储数据，实现区间内更新，查询都是o(nlogn)的时间复杂度，适用于在线更新数据频繁的区间查询问题<br>其中用线段树统计的东西，必须符合区间加法，否则，不可能通过分成的子区间来得到[L,R]的统计结果。</p>
<p>  符合区间加法的例子：<br>  数字之和——总数字之和 = 左区间数字之和 + 右区间数字之和<br>  最大公因数(GCD)——总GCD = gcd( 左区间GCD , 右区间GCD );<br>  最大值——总最大值=max(左区间最大值，右区间最大值)<br>  不符合区间加法的例子：<br>  众数——只知道左右区间的众数，没法求总区间的众数<br>  01序列的最长连续零——只知道左右区间的最长连续零，没法知道总的最长连续零</p>
<p>  一个问题，只要能化成对一些连续点的修改和统计问题，基本就可以用线段树来解决了，具体怎么转化在第六节会讲。<br>  由于点的信息可以千变万化，所以线段树是一种非常灵活的数据结构，可以做的题的类型特别多，只要会转化。<br>  线段树当然是可以维护线段信息的，因为线段信息也是可以转换成用点来表达的（每个点代表一条线段）。<br>线段树的大体思想是利用分治思想，用二叉树将l - r 区间内的树，不断二分，左右子树，分别代表左右区间，当分到最后，再逐步求解处理，<br>左右区间和并处理，处理出整个 l - r 的区间。<br>详细的实现思想在模板中有注释</p>
<h1 id="模板"><a href="#模板" class="headerlink" title="模板"></a>模板</h1><figure class="highlight c"><figcaption><span>++</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">50100</span>;</span><br><span class="line"><span class="keyword">int</span> a[<span class="number">2</span>*N];<span class="comment">//获得原始数据</span></span><br><span class="line"><span class="keyword">int</span> sum[<span class="number">2</span>*N];<span class="comment">//用于就和或者最大值</span></span><br><span class="line"><span class="keyword">int</span> lazy[<span class="number">2</span>*N];<span class="comment">//懒惰数组，用来标记父节点修改情况</span></span><br><span class="line"><span class="comment">//更新父节点</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushd</span><span class="params">(<span class="keyword">int</span> rt)</span></span>&#123;</span><br><span class="line">    sum[rt] = sum[rt&lt;&lt;<span class="number">1</span>]+sum[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//从父节点向子节点更新懒惰标记，这里的更新是替换，如果是增加减少，=换成+=,如果是其他需要另分析</span></span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">PushDown</span><span class="params">(<span class="keyword">int</span> rt,<span class="keyword">int</span> m)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (lazy[rt]) &#123;</span><br><span class="line">               lazy[rt&lt;&lt;<span class="number">1</span>] = lazy[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>] = lazy[rt];</span><br><span class="line">               sum[rt&lt;&lt;<span class="number">1</span>] = (m - (m &gt;&gt; <span class="number">1</span>)) * lazy[rt];</span><br><span class="line">               sum[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>] = (m &gt;&gt; <span class="number">1</span>) * lazy[rt];</span><br><span class="line">               lazy[rt] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//建树,l 左边界，r 有边界，rt节点编号</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">buildtree</span><span class="params">(<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> rt)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l== r)&#123;</span><br><span class="line">        sum[rt] = a[l];</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> m = (l+r)/<span class="number">2</span>;</span><br><span class="line">    buildtree(l,m,rt*<span class="number">2</span>);</span><br><span class="line">    buildtree(m+<span class="number">1</span>,r,rt*<span class="number">2</span>+<span class="number">1</span>);</span><br><span class="line">    pushd(rt);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//单点更新 p表示需要更新的位置.add表示更新的数据+ 或 -。l,r表示全体范围,st表示节点编号</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">updata</span><span class="params">(<span class="keyword">int</span> p,<span class="keyword">int</span> add,<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> st)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l==r)&#123;</span><br><span class="line">        sum[st]+=add;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> m =(l+r)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(p &lt;= m) updata(p,add,l,m,st&lt;&lt;<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        updata(p,add,m+<span class="number">1</span>,r,st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    pushd(st);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//区间更新函数</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">updata</span><span class="params">(<span class="keyword">int</span> L,<span class="keyword">int</span> R,<span class="keyword">int</span> data,<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> rt)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(L&lt;=l&amp;&amp;R&gt;=r)&#123;</span><br><span class="line">        lazy[rt] = data;</span><br><span class="line">        sum[rt] = (r-l+<span class="number">1</span>)*data;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    PushDown(rt,r-l+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">int</span> m = (l+r)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(L &lt;= m)&#123;</span><br><span class="line">        updata(L,R,data,l,m,rt&lt;&lt;<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(R &gt; m)&#123;</span><br><span class="line">        updata(L,R,data,m+<span class="number">1</span>,r,rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    pushup(rt);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//区间查询 L,R表示查询的区间.l,r表示全体范围,rt表示节点编号</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> L,<span class="keyword">int</span> R,<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> rt)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(L &lt;= l&amp;&amp;r &lt;= R)&#123;</span><br><span class="line">        <span class="keyword">return</span> sum[rt];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> m = (l+r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> ans =<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(L &lt;= m ) ans+=query(L,R,l,m,rt&lt;&lt;<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span>(R &gt; m) ans += query(L,R,m+<span class="number">1</span>,r,rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>#应用实例<br><figure class="highlight plain"><figcaption><span>点击左侧link跳转</span><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1166" target="_blank" rel="noopener">link</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">原题连接</span><br></pre></td></tr></table></figure><br>考察：updata单点增减，query区间查询，建树求和<br>AC代码如下：<br><figure class="highlight c"><figcaption><span>++</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">50100</span>;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">int</span> a[<span class="number">2</span>*N];</span><br><span class="line"><span class="keyword">int</span> sum[<span class="number">2</span>*N];</span><br><span class="line"><span class="keyword">int</span> dig[<span class="number">2</span>*N];</span><br><span class="line"><span class="comment">//更新父节点</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushd</span><span class="params">(<span class="keyword">int</span> rt)</span></span>&#123;</span><br><span class="line">    sum[rt] = sum[rt&lt;&lt;<span class="number">1</span>]+sum[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//建树,l 左边界，r 有边界，rt节点编号</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">buildtree</span><span class="params">(<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> rt)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l== r)&#123;</span><br><span class="line">        sum[rt] = a[l];</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> m = (l+r)/<span class="number">2</span>;</span><br><span class="line">    buildtree(l,m,rt*<span class="number">2</span>);</span><br><span class="line">    buildtree(m+<span class="number">1</span>,r,rt*<span class="number">2</span>+<span class="number">1</span>);</span><br><span class="line">    pushd(rt);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//单点更新 p表示需要更新的位置.add表示更新的数据+ 或 -。l,r表示全体范围,st表示节点编号</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">updata</span><span class="params">(<span class="keyword">int</span> p,<span class="keyword">int</span> add,<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> st)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l==r)&#123;</span><br><span class="line">        sum[st]+=add;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> m =(l+r)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(p &lt;= m) updata(p,add,l,m,st&lt;&lt;<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        updata(p,add,m+<span class="number">1</span>,r,st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    pushd(st);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//区间查询 L,R表示查询的区间.l,r表示全体范围,rt表示节点编号</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> L,<span class="keyword">int</span> R,<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> rt)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(L &lt;= l&amp;&amp;r &lt;= R)&#123;</span><br><span class="line">        <span class="keyword">return</span> sum[rt];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> m = (l+r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> ans =<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(L &lt;= m ) ans+=query(L,R,l,m,rt&lt;&lt;<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span>(R &gt; m) ans += query(L,R,m+<span class="number">1</span>,r,rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::sync_with_stdio(<span class="number">0</span>),<span class="built_in">cin</span>.tie(<span class="number">0</span>),<span class="built_in">cout</span>.tie(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;T;</span><br><span class="line">    <span class="keyword">int</span> k =<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="keyword">int</span> n;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;a[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">string</span> s;</span><br><span class="line">        buildtree(<span class="number">1</span>,n,<span class="number">1</span>);</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"Case "</span>&lt;&lt;k&lt;&lt;<span class="string">":"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        k++;</span><br><span class="line">        <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;s)&#123;</span><br><span class="line">            <span class="keyword">if</span>(s[<span class="number">0</span>] == <span class="string">'E'</span>) <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">if</span>(s[<span class="number">0</span>] == <span class="string">'Q'</span>)&#123;</span><br><span class="line">                <span class="keyword">int</span> x,y;</span><br><span class="line">                <span class="built_in">cin</span>&gt;&gt;x&gt;&gt;y;</span><br><span class="line">                <span class="built_in">cout</span>&lt;&lt;query(x,y,<span class="number">1</span>,n,<span class="number">1</span>)&lt;&lt;<span class="built_in">endl</span>;;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(s[<span class="number">0</span>] == <span class="string">'A'</span>)&#123;</span><br><span class="line">                <span class="keyword">int</span> x,y;</span><br><span class="line">                <span class="built_in">cin</span>&gt;&gt;x&gt;&gt;y;</span><br><span class="line">                updata(x,y,<span class="number">1</span>,n,<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(s[<span class="number">0</span>] == <span class="string">'S'</span>)&#123;</span><br><span class="line">                <span class="keyword">int</span> x,y;</span><br><span class="line">                <span class="built_in">cin</span>&gt;&gt;x&gt;&gt;y;</span><br><span class="line">                updata(x,<span class="number">0</span>-y,<span class="number">1</span>,n,<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><br><figure class="highlight plain"><figcaption><span>点击左侧link跳转</span><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1754" target="_blank" rel="noopener">link</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">原题连接</span><br></pre></td></tr></table></figure><br>考察：updata单点替换，query区间查询，建树求最值<br>AC代码如下：<br><figure class="highlight c"><figcaption><span>++</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">200010</span>;</span><br><span class="line"><span class="keyword">int</span> a[<span class="number">2</span>*N];</span><br><span class="line"><span class="keyword">int</span> sum[<span class="number">2</span>*N];</span><br><span class="line"><span class="comment">//更新父节点</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushd</span><span class="params">(<span class="keyword">int</span> rt)</span></span>&#123;</span><br><span class="line">    sum[rt] = max(sum[rt&lt;&lt;<span class="number">1</span>],sum[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//建树,l 左边界，r 有边界，rt节点编号</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">buildtree</span><span class="params">(<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> rt)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l== r)&#123;</span><br><span class="line">        sum[rt] = a[l];</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> m = (l+r)/<span class="number">2</span>;</span><br><span class="line">    buildtree(l,m,rt*<span class="number">2</span>);</span><br><span class="line">    buildtree(m+<span class="number">1</span>,r,rt*<span class="number">2</span>+<span class="number">1</span>);</span><br><span class="line">    pushd(rt);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//单点更新 p表示需要更新的位置.add表示更新的数据+ 或 -。l,r表示全体范围,st表示节点编号</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">updata</span><span class="params">(<span class="keyword">int</span> p,<span class="keyword">int</span> data,<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> st)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l==r)&#123;</span><br><span class="line">        sum[st] = data;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> m =(l+r)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(p &lt;= m) updata(p,data,l,m,st&lt;&lt;<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        updata(p,data,m+<span class="number">1</span>,r,st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    pushd(st);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//区间查询 L,R表示查询的区间.l,r表示全体范围,rt表示节点编号</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> L,<span class="keyword">int</span> R,<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> rt)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(L &lt;= l&amp;&amp;r &lt;= R)&#123;</span><br><span class="line">        <span class="keyword">return</span> sum[rt];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> m = (l+r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> ans =<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(L &lt;= m ) ans = max(ans,query(L,R,l,m,rt&lt;&lt;<span class="number">1</span>));</span><br><span class="line">    <span class="keyword">if</span>(R &gt; m) ans = max(ans, query(L,R,m+<span class="number">1</span>,r,rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::sync_with_stdio(<span class="number">0</span>),<span class="built_in">cin</span>.tie(<span class="number">0</span>),<span class="built_in">cout</span>.tie(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">int</span> n,m;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m)&#123;</span><br><span class="line">        <span class="built_in">memset</span>(sum,<span class="number">0</span>,<span class="keyword">sizeof</span> sum);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;a[i];</span><br><span class="line">        &#125;</span><br><span class="line">        buildtree(<span class="number">1</span>,n,<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">char</span> s[<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">while</span>(m--)&#123;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;s;</span><br><span class="line">            <span class="keyword">if</span>(s[<span class="number">0</span>] == <span class="string">'Q'</span>)&#123;</span><br><span class="line">                <span class="keyword">int</span> x,y;</span><br><span class="line">                <span class="built_in">cin</span>&gt;&gt;x&gt;&gt;y;</span><br><span class="line">                <span class="built_in">cout</span>&lt;&lt;query(x,y,<span class="number">1</span>,n,<span class="number">1</span>)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>( s[<span class="number">0</span>]== <span class="string">'U'</span>)&#123;</span><br><span class="line">                <span class="keyword">int</span> x,y;</span><br><span class="line">                <span class="built_in">cin</span>&gt;&gt;x&gt;&gt;y;</span><br><span class="line">                updata(x,y,<span class="number">1</span>,n,<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><br><figure class="highlight plain"><figcaption><span>点击左侧link跳转</span><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1698" target="_blank" rel="noopener">link</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">原题连接</span><br></pre></td></tr></table></figure><br>题意：有一个钩子铁链每段都有自己的价值，铁=1，银=2，金=3；<br>给你一个序列代表一个铁链，初始都是铁，可以进行一些操作，将铁换成银或者金，最后问你整个铁链价值多少。<br>考察：updata区间替换，query区间查询，建树求和<br>AC代码如下：<br><figure class="highlight c"><figcaption><span>++</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N =<span class="number">1e6</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> sum[<span class="number">2</span>*N];</span><br><span class="line"><span class="keyword">int</span> lazy[<span class="number">2</span>*N];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushup</span><span class="params">(<span class="keyword">int</span> rt)</span></span>&#123;</span><br><span class="line">    sum[rt] = sum[rt&lt;&lt;<span class="number">1</span>]+sum[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">PushDown</span><span class="params">(<span class="keyword">int</span> rt,<span class="keyword">int</span> m)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (lazy[rt]) &#123;</span><br><span class="line">               lazy[rt&lt;&lt;<span class="number">1</span>] = lazy[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>] = lazy[rt];</span><br><span class="line">               sum[rt&lt;&lt;<span class="number">1</span>] = (m - (m &gt;&gt; <span class="number">1</span>)) * lazy[rt];</span><br><span class="line">               sum[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>] = (m &gt;&gt; <span class="number">1</span>) * lazy[rt];</span><br><span class="line">               lazy[rt] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"> &#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> rt)</span></span>&#123;</span><br><span class="line">    sum[rt] = <span class="number">1</span>;</span><br><span class="line">    lazy[rt] =<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(l==r)&#123;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> m = (l+r)/<span class="number">2</span>;</span><br><span class="line">    build(l,m,rt&lt;&lt;<span class="number">1</span>);</span><br><span class="line">    build(m+<span class="number">1</span>,r,rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>);</span><br><span class="line">    pushup(rt);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">updata</span><span class="params">(<span class="keyword">int</span> L,<span class="keyword">int</span> R,<span class="keyword">int</span> data,<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> rt)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(L&lt;=l&amp;&amp;R&gt;=r)&#123;</span><br><span class="line">        lazy[rt] = data;</span><br><span class="line">        sum[rt] = (r-l+<span class="number">1</span>)*data;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    PushDown(rt,r-l+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">int</span> m = (l+r)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(L &lt;= m)&#123;</span><br><span class="line">        updata(L,R,data,l,m,rt&lt;&lt;<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(R &gt; m)&#123;</span><br><span class="line">        updata(L,R,data,m+<span class="number">1</span>,r,rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    pushup(rt);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> L,<span class="keyword">int</span> R,<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> rt)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(L&lt;=l&amp;&amp;R&gt;=r)&#123;</span><br><span class="line">        <span class="keyword">return</span> sum[rt];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> m=(l+r)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(L&lt;=m)&#123;</span><br><span class="line">        ans +=query(L,R,l,m,rt&lt;&lt;<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        ans +=query(L,R,m+<span class="number">1</span>,r,rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::sync_with_stdio(<span class="number">0</span>),<span class="built_in">cin</span>.tie(<span class="number">0</span>),<span class="built_in">cout</span>.tie(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;T;</span><br><span class="line">    <span class="keyword">int</span> q =<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="keyword">int</span> n,w;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;w;</span><br><span class="line">        build(<span class="number">1</span>,n,<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">while</span>(w--)&#123;</span><br><span class="line">            <span class="keyword">int</span> x,y,z;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;x&gt;&gt;y&gt;&gt;z;</span><br><span class="line">            updata(x,y,z,<span class="number">1</span>,n,<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"Case "</span>&lt;&lt;q&lt;&lt;<span class="string">": The total value of the hook is "</span>;</span><br><span class="line">        q++;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;sum[<span class="number">1</span>]&lt;&lt;<span class="string">"."</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/Myblog/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/Myblog/page/4/">4</a><a class="extend next" rel="next" href="/Myblog/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/Myblog/images/touxiang.jpg" alt="连贺扬">
            
              <p class="site-author-name" itemprop="name">连贺扬</p>
              <p class="site-description motion-element" itemprop="description">岁月不饶人，我亦未曾绕过岁月</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/Myblog/archives">
                
                    <span class="site-state-item-count">38</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/Myblog/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">4</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/Myblog/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">24</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">连贺扬</span>

  

  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v6.7.0</div>




        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="post-meta-item-icon">
      <i class="fa fa-user"></i>
    </span>
    <span class="site-uv" title="总访客量">
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
    </span>
  

  
    <span class="post-meta-divider">|</span>
  

  
    <span class="post-meta-item-icon">
      <i class="fa fa-eye"></i>
    </span>
    <span class="site-pv" title="总访问量">
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
    </span>
  
</div>









        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>
















  
  



  
  



  
  







  
  <script src="/Myblog/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/Myblog/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/Myblog/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script src="/Myblog/lib/three/three.min.js"></script>

  
  <script src="/Myblog/lib/three/three-waves.min.js"></script>

  
  <script src="/Myblog/lib/three/canvas_lines.min.js"></script>

  
  <script src="/Myblog/lib/three/canvas_sphere.min.js"></script>


  


  <script src="/Myblog/js/src/utils.js?v=6.7.0"></script>

  <script src="/Myblog/js/src/motion.js?v=6.7.0"></script>



  
  


  <script src="/Myblog/js/src/affix.js?v=6.7.0"></script>

  <script src="/Myblog/js/src/schemes/pisces.js?v=6.7.0"></script>



  

  


  <script src="/Myblog/js/src/bootstrap.js?v=6.7.0"></script>



  
  

<script src="//cdn1.lncld.net/static/js/3.11.1/av-min.js"></script>



<script src="//unpkg.com/valine/dist/Valine.min.js"></script>

<script>
  var GUEST = ['nick', 'mail', 'link'];
  var guest = 'nick,mail,link';
  guest = guest.split(',').filter(function(item) {
    return GUEST.indexOf(item) > -1;
  });
  new Valine({
    el: '#comments',
    verify: false,
    notify: false,
    appId: 'zKT77AUHenxJ96eoJWP8LR7K-gzGzoHsz',
    appKey: 'pIg36WYQzuKBChOyIJySyE93',
    placeholder: 'Just go go',
    avatar: 'mm',
    meta: guest,
    pageSize: '10' || 10,
    visitor: false
  });
</script>





  





  

  

  

  

  

  

  

  

  

  

  

  

  

<script src="/Myblog/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"wanko"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"log":false});</script></body>
</html>
